<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <link rel="apple-touch-icon" type="image/png" href="logo.png" />
    <link rel="shortcut icon" type="image/x-icon" href="logo.ico" />
    <link rel="mask-icon" type="image/x-icon" href="logo.svg" color="#111" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Piano Keyboard - AI Pianist</title>

    <link rel="stylesheet" href="assets/main.css" />

 
  </head>

  <body translate="no">
    <div class="rotate-wrapper">
      <h1 class="main-title">AI Pianist Companion 🧙‍♀️🎹</h1>
      <h4 class="sub-title row prompt-row">
        Chat with our AI pianist 🧙‍♂️🎹 to discover melodies for popular songs or
        even create your own unique compositions 🎵 🎶 <br /><br />

        Experience the joy of playing the piano 🎹 with our interactive keyboard
        or simply input your desired melody 🎼😊<br /><br />

        Have fun unleashing your musical creativity 🎉🎶!
      </h4>
      <div class="settings-icon" id="settings-icon">🛠</div>
      <div class="chat-icon" id="chat-icon">💬</div>
      <div class="info-icon" id="info-icon">❓</div>

      <div class="modal" id="modal">
        <div class="modal-content">
          <span class="close" id="close">&times;</span>
          <h2>🛠 Settings</h2>
          <!-- Your settings content here -->
          <h5><br />OpenAI Api Model</h5>
          <h5>
            <select id="openAIModal">
              <option selected value="gpt-3.5-turbo-16k-0613">
                gpt-3.5-turbo-16k-0613
              </option>
              <option value="gpt-3.5-turbo">gpt-3.5-turbo</option>
              <option value="gpt-3.5-turbo-16k">gpt-3.5-turbo-16k</option>
              <option value="gpt-3.5-turbo-0613">gpt-3.5-turbo-0613</option>
              <option value="gpt-3.5-turbo">gpt-3.5-turbo</option>
              <option value="gpt-4">gpt-4</option>
              <option value="gpt-4-0613">gpt-4-0613</option>
              <option value="gpt-4-32k">gpt-4-32k</option>
              <option value="gpt-4-32k-0613">gpt-4-32k-0613</option>
            </select>
          </h5>

          <h5
            onclick="window.open('https://help.openai.com/en/articles/4936850-where-do-i-find-my-secret-api-key', '_blank')"
          >
            <br />OpenAI Api Key ⚠️
          </h5>
          <h5>
            <input
              id="openAIKey"
              class="input-settings"
              type="text"
              value="Bearer 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"
            />
          </h5>

          <h5><br />Keyboard (A4 Hz)</h5>
          <h5>
            <input
              id="startingA4"
              class="input-settings"
              value="240"
              type="text"
            />
          </h5>
          <h5><br />Rest duration (ms) "-"</h5>
          <h5>
            <input
              id="durationRest"
              class="input-settings"
              value="90"
              type="text"
            />
          </h5>

          <h5><br />Background Image</h5>
          <h5>
            <input
              id="backgroundImage"
              class="input-settings"
              value=" "
              type="text"
            /><br /><br />
            <small class="x-small"
              >eg.
              https://source.unsplash.com/random/?bright,white,coffeeshop</small
            >
          </h5>
          <br /><br />

          <button id="play-button" onclick="saveSettingConfig( )">Save</button>
        </div>
      </div>

      <div class="modal" id="modal-info-ai">
        <div class="modal-content">
          <span class="close" id="close-modal-info-ai">&times;</span>
          <h2>What Does this app do ❓</h2>
          <div>
            <h3><br />Concept - AI Pianist Companion 🧙‍♀️🎹</h3>
            <iframe
              width="560"
              height="315"
              src="https://www.youtube.com/embed/1s-Ar6UyCdQ?si=48gfG6pAce896Gpe"
              title="YouTube video player"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen
            ></iframe>
            <p>
              <small>
                Chat with our AI pianist 🧙‍♀️🎹 to discover melodies for popular
                songs or even create your own unique compositions. Have fun
                unleashing your musical creativity! Experience the joy of
                playing the piano with our interactive keyboard or simply input
                your desired melody.
              </small>
            </p>

            <h3><br />How Can I play this?</h3>
            <p>
              <small
                >You can press with your keyboard or click. You can use AI or
                without AI!
              </small>
            </p>

            <h3><br />WHAT DO I NEED FOR THIS TO WORK?</h3>
            <p>
              <small
                >You need an openai api account. Just set the keys in the
                setting..
              </small>
              <small
                >We dont keep / track anything or use your keys . You can
                transparently inspect the code in this single page html or here
                `https://github.com/dragonjump/AI-Pianist`
              </small>
            </p>
            <h3><br />Underlying Prompt Presets</h3>

            <p>
              <small>
                While you have the option to use tools like chatgpt, claude, and
                bing to obtain piano notations by copy-pasting the prompt, this
                platform offers a more seamless experience. It enables you to
                directly request and play music in a unified and harmonious
                manner. Below is the actual prompt preset being used.
              </small>
            </p>
            <textarea class="copy-textarea" readonly>
 
            act as expert pianist.your keyboard is range from C1,C#1,D1...B1,C2 to
            C3 (maximum). you will play music this format. eg. "A2-B1-C1---E2-G#1",
            each "-" is 90ms delay rest note . Take into account rest tempo .
            Working example happy birthday tune
            G1--G1--A1--G1----C2-----B1---------
            G1--G1--A1--G1----D2-----C2--------
            G1--G1--G2----E2---C2----B1----A1------
            F2--F2--E2----C2----D2---C2-------- 
            F2--F2--E2----C2----D2---C2-------- 
            </textarea>
          </div>
        </div>
      </div>
      <div class="modal" id="modal-chat-ai">
        <div class="modal-content">
          <span class="close" id="close-modal-chat-ai">&times;</span>
          <h2>
            Chat With AI Pianist <small>🧙‍♂️🎹</small
            ><span style="font-size: xx-large"> 💬</span>
          </h2>

          <div
            id="chat-preset-api-prompt"
            style="display: none"
            class="chat-preset-api-prompt"
          >
            <textarea>
Act as expert pianist. Your piano keyboard is range from C1(min),C#1,D1...B1,C2 toC3 (maximum). I want you generate and play tune for me.

Rules you must follow.
1. You will play music this format.   "A2-B1-C1---E2-G#1". Each "-" is 90ms delay rest note . Take into account rest tempo delay.

2.Below is working example happy birthday tune
G1--G1--A1--G1----C2-----B1---------
G1--G1--A1--G1----D2-----C2--------
G1--G1--G2----E2---C2----B1----A1------
F2--F2--E2----C2----D2---C2-------- 
F2--F2--E2----C2----D2---C2-------- 

3. Think step by step and make most accurate melody. 
        </textarea
            ><br />

            <button id="play-button" onclick="showPresetChatApiPrompt(false)">
              Save
            </button>
          </div>
          <div id="chat-content" class="chat-content">
            <div id="loaderApi" class="loader" style="display: none">
              <div class="loader-circle"></div>
            </div>
            <!-- Your settings content here -->
            <h5 class="bot-message">🤖 How can I help you ?</h5>

            <h5 id="user-message-template" class="user-message"></h5>
            <h5 id="bot-message-template" class="bot-message"></h5>
          </div>
          <h5 id="chat-invalid-api-key">
            🚫 Why am I seeing this error?
            <br /><br />
            Please go to settings 🛠 > OpenAI Keys > Your API Key
            <br /><br /><small>
              If you have used the correct key, this could be a problem with
              OpenAI API service disruption or unavailability.<br /><br />
              Try selecting other models like GPT 3.5/ 4 or retry again later.
            </small>
          </h5>
          <h5 id="chat-input">
            <textarea rows="7" cols="30" id="chatInput" class="input-settings">
NOW GIVE ME THE MARRY HAD A LIL LAMB
          </textarea
            >
            <div class="prompt-icon" id="prompt-icon"></div>
            <br />

            <button id="play-button" onclick="showPresetChatApiPrompt(true)">
              Preset Prompt
            </button>
            <button id="play-button" onclick="submitChat()">Ask</button>
          </h5>
          <p>
            <small class="x-small"
              ><br />NOTE: You are required to use your own openai api key
              <br /><br /><a
                href="https://help.openai.com/en/articles/4936850-where-do-i-find-my-secret-api-key"
                target="_blank"
              >
                https://help.openai.com/en/articles/4936850-where-do-i-find-my-secret-api-key
              </a></small
            >
          </p>
        </div>
      </div>
      <div class="row piano-row" id="piano-row">
        <!-- Piano keyboard HTML here -->
        <div class="keyboard-wrapper">
          <ul class="note-list" id="keyboard">
            <li note="C1" class="white">A</li>
            <li note="C#1" class="black">Z</li>
            <li note="D1" class="white offset">S</li>
            <li note="D#1" class="black">X</li>
            <li note="E1" class="white offset">D</li>
            <li note="F1" class="white">F</li>
            <li note="F#1" class="black">V</li>
            <li note="G1" class="white offset">G</li>
            <li note="G#1" class="black">B</li>
            <li note="A1" class="white offset">H</li>
            <li note="A#1" class="black">N</li>
            <li note="B1" class="white offset">J</li>
            <li note="C2" class="white">K</li>
            <li note="C#2" class="black">,</li>
            <li note="D2" class="white offset">L</li>
            <li note="D#2" class="black">.</li>
            <li note="E2" class="white offset">;</li>
            <li note="F2" class="white">Q</li>
            <li note="F#2" class="black">2</li>
            <li note="G2" class="white offset">W</li>
            <li note="G#2" class="black">3</li>
            <li note="A2" class="white offset">E</li>
            <li note="A#2" class="black">4</li>
            <li note="B2" class="white offset">R</li>
            <li note="C3" class="white">T</li>
          </ul>
        </div>
      </div>
      <div class="row editor-row">
        <p>
          <button id="add-button" onclick="addAnother()">Add +</button>

          <button id="play-button" onclick="loadMusic()">Play ▶</button>
          <button id="stop-button" onclick="stopMusic()">Stop ◼</button>
        </p>
        <div id="melody-section-1">
          <h6>Melody</h6>
          <textarea class="music-editor" placeholder="Enter music notes">
          G1--G1--A1--G1----C2-----B1---------
          G1--G1--A1--G1----D2-----C2--------
          G1--G1--G2----E2---C2----B1----A1------
          F2--F2--E2----C2----D2---C2-------- 
          F2--F2--E2----C2----D2---C2--------
        </textarea
          >
        </div>
      </div>
    </div>

    <script src="assets/main.js"></script>
  </body>
</html>
